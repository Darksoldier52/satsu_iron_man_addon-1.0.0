{
  "name": { "translate": "ability.title.satsu.ia" },
  "persistent_data": true,
  "ability_bar_texture": "satsu_iron_man_addon:textures/gui/ability_bars/powers.png",
  "background": "satsu_iron_man_addon:textures/gui/block/background.png",
  "icon": "satsu_iron_man_addon:textures/gui/armors/ia/ia_0.png",
  "gui_display_type": "tree",
  "primary_color": "#2af4f5",
  "secondary_color": "#0aacac",
  "abilities": {
    "Armor_powers_stat_upgrades": {
      "type": "palladium:dummy",
      "icon": "satsu_iron_man_addon:textures/gui/armors/ia/ia_0.png",
      "title": {
        "translate": "ability.title.satsu.ia_powers_stat_upgrades"
      },
      "hidden": false,
      "hidden_in_bar": true,
      "gui_position": [0, -2.8],
      "description": { "translate": "description.ia_skill_stat" },
      "conditions": {
        "unlocking": [
          {
            "type": "palladium:not",
            "conditions": [
              {
                "type": "palladium:or",
                "conditions": [
                  {
                    "type": "palladium:has_tag",
                    "tag": "alien"
                  }
                ]
              }
            ]
          }
        ]
      }
    },
    "sentinel_nearest": {
      "type": "palladium:command",
      "hidden": true,
      "hidden_in_bar": true,
      "list_index": 0,
      "gui_position": [0, -2],
      "first_tick_commands": [""],
      "commands": [
        "execute if entity @e[tag=sentinel,sort=nearest,distance=0..3] run tag @s add sentinel_nearest",
        "execute unless entity @e[tag=sentinel,distance=0..3] run tag @s remove sentinel_nearest"
      ],
      "last_tick_commands": [""]
    },
    "test_sentinel": {
      "type": "palladium:command",
      "icon": "satsu_iron_man_addon:textures/gui/armors/placeholder.png",
      "title": { "translate": "ability.title.satsu.enable_armor" },
      "hidden": false,
      "hidden_in_bar": false,
      "list_index": 0,
      "gui_position": [0, -2],
      "commands": [
        "tag @s add sentinel_one",
        "summon wolf ~ ~ ~ {CustomNameVisible:1b,CustomName:'[{\"text\":\"Armor Sentinel\"}]',Silent:1b,Tags:[\"tamed_wolf\",\"new\",\"sentinel\"]}",
        "execute as @e[type=wolf] run superpower add satsu_iron_man_addon:ia/sentinel_stats @s",
        "function satsu_iron_man_addon:spawn_armor_sentinel",
        "summon armor_stand ~ ~ ~ {Marker:1b,Invisible:1b,Invulnerable:1b,Silent:1b,NoBasePlate:1b,CustomName:'[{\"text\":\"Armor Sentinel\"}]',NoGravity:1b,Tags:[\"sentinel\"],Pose:{Body:[0f,0f,0f],LeftArm:[0f,0f,0f],RightArm:[0f,0f,0f],LeftLeg:[0f,0f,0f],RightLeg:[0f,0f,0f],Head:[0f,0f,0f]}}",
        "execute as @e[type=minecraft:armor_stand] run superpower add satsu_iron_man_addon:iron_man_sentinel @s",
        "execute as @s run scoreboard players operation @e[type=minecraft:armor_stand] satsu.iron.man.armor = @s satsu.iron.man.armor",
        "execute as @s run scoreboard players operation @e[type=minecraft:armor_stand] satsu.iron.man.mask = @s satsu.iron.man.mask",
        "execute as @s run scoreboard players operation @e[type=minecraft:wolf] satsu.iron.man.durability = @s satsu.iron.man.durability",
        "execute as @s run scoreboard players operation @e[type=minecraft:wolf] satsu.iron.man.strength = @s satsu.iron.man.strength",
        "scale set pehkui:hitbox_height 2 @e[type=wolf,sort=nearest,limit=1]",
        "scale set pehkui:hitbox_width 2 @e[type=wolf,sort=nearest,limit=1]"
      ],
      "conditions": {
        "enabling": [
          {
            "type": "palladium:action",
            "cooldown": 0,
            "key_type": "key_bind",
            "needs_empty_hand": false,
            "allow_scrolling_when_crouching": true
          }
        ],
        "unlocking": [
          {
            "type": "palladium:not",
            "conditions": [
              {
                "type": "palladium:has_tag",
                "tag": "sentinel_one"
              }
            ]
          },
          {
            "type": "palladium:ability_unlocked",
            "power": "satsu_iron_man_addon:ia/ia",
            "ability": "Armor_powers_stat_upgrades"
          }
        ]
      }
    },
    "kill_test_sentinel": {
      "type": "palladium:command",
      "icon": "satsu_iron_man_addon:textures/gui/armors/placeholder.png",
      "title": { "translate": "ability.title.satsu.enable_armor" },
      "hidden": false,
      "hidden_in_bar": false,
      "list_index": 1,
      "gui_position": [0, -2],
      "commands": [
        "execute as @e[tag=sentinel,limit=2,distance=0..3] run tp @s ~ ~-1000 ~",
        "execute as @e[tag=sentinel,limit=2,distance=0..3] run data modify entity @s Owner set value [I; 0, 0, 0, 0]",
        "execute as @e[tag=sentinel] run kill @s",
        "tag @s remove sentinel_one"
      ],
      "conditions": {
        "enabling": [
          {
            "type": "palladium:action",
            "cooldown": 0,
            "key_type": "key_bind",
            "needs_empty_hand": false,
            "allow_scrolling_when_crouching": true
          }
        ],
        "unlocking": [
          {
            "type": "palladium:has_tag",
            "tag": "sentinel_nearest"
          }
        ]
      }
    },
    "test_wolf": {
      "type": "palladium:command",
      "hidden": true,
      "hidden_in_bar": true,
      "commands": [
        "execute as @s run minecraft:wolf ~ ~ ~ {CustomName:'[{\"text\":\"Armor Sentinel\"}]',Silent:1b,Invulnerable:1b,DeathLootTable:\"0\",PersistenceRequired:1b,Tags:[\"sentinel\",\"new\",\"tamed_wolf\"],ActiveEffects:[{Id:1b,Amplifier:4b,Duration:1000000,ShowParticles:0b},{Id:11b,Amplifier:255b,Duration:1000000,ShowParticles:0b},{Id:14b,Amplifier:255b,Duration:1000000,ShowParticles:0b}]}"
      ],
      "conditions": {
        "enabling": [
          {
            "type": "palladium:action",
            "cooldown": 0,
            "key_type": "key_bind",
            "needs_empty_hand": false,
            "allow_scrolling_when_crouching": true
          }
        ],
        "unlocking": [
          {
            "type": "palladium:not",
            "conditions": [
              {
                "type": "palladium:ability_unlocked",
                "power": "satsu_iron_man_addon:armor/iron_man_armor",
                "ability": "Armor_powers_stat_upgrades"
              }
            ]
          }
        ]
      }
    }
  }
}
